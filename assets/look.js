!function(){"use strict";customElements.get("look-component")||customElements.define("look-component",class extends HTMLElement{constructor(){super(),this.slider=this.querySelector("[data-slider-mobile]"),this.slides=this.querySelectorAll("[data-slide]"),this.thumbs=this.querySelectorAll("[data-slider-thumb]"),this.popupContainer=this.querySelector("[data-popup-container]"),this.popupClose=this.querySelectorAll("[data-popup-close]"),this.popupCloseByEvent=this.popupCloseByEvent.bind(this),this.gridSlider=this.querySelector("grid-slider")}connectedCallback(){this.slider&&this.slides.length&&this.thumbs.length&&(this.popupContainer.addEventListener("transitionend",(e=>{e.target==this.popupContainer&&(this.popupContainer.classList.remove("is-animating"),e.target.classList.contains("is-open")?this.popupOpenCallback():this.popupCloseCallback())})),this.popupContainer.addEventListener("transitionstart",(e=>{e.target==this.popupContainer&&this.popupContainer.classList.add("is-animating")})),this.popupClose.forEach((e=>{e.addEventListener("click",(()=>{this.popupContainer.classList.remove("is-open"),document.dispatchEvent(new CustomEvent("theme:scroll:unlock",{bubbles:!0}))}))})),this.thumbs.forEach(((e,t)=>{e.addEventListener("click",(i=>{i.preventDefault();const s=e.hasAttribute("data-slider-thumb")&&""!==e.getAttribute("data-slider-thumb")?parseInt(e.getAttribute("data-slider-thumb")):t,o=this.slides[s];if(window.theme.isMobile()){const e=parseInt(window.getComputedStyle(this.slider).paddingLeft);this.slider.scrollTo({top:0,left:o.offsetLeft-e,behavior:"auto"}),document.dispatchEvent(new CustomEvent("theme:scroll:lock",{bubbles:!0})),this.popupContainer.classList.add("is-animating","is-open")}if(this.gridSlider&&this.gridSlider.isInitialized)this.gridSlider.goToSlide(o);else{const{stickyHeaderHeight:e}=window.theme.readHeights(),t=o.getBoundingClientRect().top,i=o.offsetHeight/2,s=window.innerHeight;let n=t+i-s/2+window.scrollY;const p=this.getBoundingClientRect().top+window.scrollY,l=p+this.offsetHeight;n<p?n=p-e:n+s>l&&(n=l-s),window.scrollTo({top:n,left:0,behavior:"smooth"})}}))})))}popupCloseByEvent(){this.popupContainer.classList.remove("is-open")}popupOpenCallback(){document.addEventListener("theme:quick-add:open",this.popupCloseByEvent,{once:!0}),document.addEventListener("theme:product:added",this.popupCloseByEvent,{once:!0})}popupCloseCallback(){document.removeEventListener("theme:quick-add:open",this.popupCloseByEvent,{once:!0}),document.removeEventListener("theme:product:added",this.popupCloseByEvent,{once:!0})}})}();
