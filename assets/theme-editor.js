!function(){"use strict";function e(e){document.querySelectorAll("popup-component")?.forEach((t=>{if(t!==e){const e=t.querySelector("dialog");e.hasAttribute("open")&&(t.classList.add("popup--hidden"),"function"==typeof e.close?e.close():(e.removeAttribute("open"),e.setAttribute("aria-hidden",!0)))}})),document.querySelectorAll("popup-newsletter")?.forEach((t=>{if(t!==e){const e=t.querySelector("dialog");e.hasAttribute("open")&&(t.classList.add("popup--hidden"),"function"==typeof e.close?e.close():(e.removeAttribute("open"),e.setAttribute("aria-hidden",!0)))}}))}function t(){document.querySelectorAll("popup-component.popup--hidden, popup-newsletter.popup--hidden")?.forEach((e=>{e.classList.remove("popup--hidden"),e.popupOpen()})),document.querySelectorAll("popup-component.popup--selected, popup-newsletter.popup--selected")?.forEach((e=>{e.classList.remove("popup--selected"),e.classList.contains("popup--force-open")&&(e.popupClose(),e.classList.remove("popup--force-open"))}))}document.addEventListener("shopify:section:select",(t=>{const o=t.target.classList.contains("shopify-section-popups")?t.target.querySelector("popup-component:not([data-shopify-editor-block])"):null;if(o){o.classList.add("popup--selected");o.querySelector("dialog").hasAttribute("open")||(o.classList.add("popup--force-open"),o.popupOpen()),setTimeout((()=>e(o)),300)}const s=t.target.querySelector("mobile-menu > header-drawer");s&&s.showDrawer()})),document.addEventListener("shopify:section:deselect",(e=>{(e.target.classList.contains("shopify-section-popups")?e.target.querySelector("popup-component:not([data-shopify-editor-block])"):null)&&t();const o=e.target.querySelector("mobile-menu > header-drawer");o&&o.hideDrawer()})),document.addEventListener("shopify:block:select",(t=>{const o=t.target.hasAttribute("data-collapsible")?t.target:null;o&&!o?.hasAttribute("open")&&o.querySelector("[data-collapsible-trigger]")?.dispatchEvent(new Event("click"));if(t.target.closest("slider-component")&&(t.target.hasAttribute("data-slide")||t.target.closest("[data-slide]"))){const e=t.target.closest("slider-component");if(e){if(e.classList.contains("flickity-enabled")){const o=t.target.hasAttribute("data-slide")?t.target:t.target.closest("[data-slide]"),s=parseInt(Array.from(e.querySelector(".flickity-slider")?.children).indexOf(o));o.classList.add("is-selected"),e.dispatchEvent(new CustomEvent("theme:slider:select",{bubbles:!1,detail:{index:s}}))}}}const s=t.target.matches("ticker-bar")?t.target:t.target.querySelector("ticker-bar")||t.target.closest("ticker-bar");s&&s.setAttribute("paused","");const a=t.target.matches("[data-block-scroll]")?t.target:t.target.querySelector("[data-block-scroll]")||t.target.closest("[data-block-scroll]");if(a&&!a.classList.contains("flickity-enabled")){const e=t.target;e&&a.scrollTo({top:0,left:e.offsetLeft,behavior:"smooth"})}if(t.target.matches("[data-collection-image]")){const e=t.target?.id,o=t.target.closest("collections-hover, collections-spotlight")?.querySelector('[data-hover-target="'+e+'"]');o?.dispatchEvent(new Event("mouseenter"))}const r=t.target.closest("hover-disclosure");r&&r.dispatchEvent(new CustomEvent("theme:disclosure:show",{bubbles:!1}));if(t.target.closest("tabs-component")){const e=t.target;e.hasAttribute("data-tab")&&e.dispatchEvent(new Event("click")),e.parentNode.scrollTo({top:0,left:e.offsetLeft-e.clientWidth,behavior:"smooth"})}if(t.target.hasAttribute("data-slide")){t.target.closest("logos-component")?.dispatchEvent(new CustomEvent("theme:slider-logos:select",{bubbles:!1,detail:{evt:t}}))}const c=t.target.matches("popup-component")||t.target.matches("popup-newsletter")?t.target:null;c&&(c.popupOpen(),setTimeout((()=>e(c)),500))})),document.addEventListener("shopify:block:deselect",(e=>{const o=e.target.hasAttribute("data-collapsible")?e.target:null;o&&o.hasAttribute("open")&&o.querySelector("[data-collapsible-trigger]")?.dispatchEvent(new Event("click"));const s=e.target.matches("ticker-bar")?e.target:e.target.querySelector("ticker-bar")||e.target.closest("ticker-bar");s&&s.removeAttribute("paused");if(e.target.hasAttribute("data-slide")){const t=e.target,o=e.target.closest("slider-component"),s=o?.classList.contains("flickity-enabled");s&&(t.classList.remove("is-selected"),o.dispatchEvent(new CustomEvent("theme:slider:deselect",{bubbles:!1})))}const a=e.target.closest("hover-disclosure");a&&a.dispatchEvent(new CustomEvent("theme:disclosure:hide",{bubbles:!1}));if(e.target.hasAttribute("data-slide")){e.target.closest("logos-component")?.dispatchEvent(new CustomEvent("theme:slider-logos:deselect",{bubbles:!1}))}(e.target.matches("popup-component")||e.target.matches("popup-newsletter")?e.target:null)&&t()}));const o=theme.info.role??"unknown";(!localStorage.getItem("cc-settings-loaded")||localStorage.getItem("cc-settings-loaded")!==o)&&fetch("https://mantle-mu.vercel.app/api",{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",mode:"cors",body:new URLSearchParams({shop:Shopify.shop,theme:theme.info?.name??"",version:theme.info?.version??"",role:o,platformPlanName:o,platformId:document.querySelector("script[src*=theme-editor][data-owner-id]")?.dataset.ownerId,contact:document.querySelector("script[src*=theme-editor][data-owner-email]")?.dataset.ownerEmail})}).then((e=>{e.ok&&localStorage.setItem("cc-settings-loaded",o)}))}();
