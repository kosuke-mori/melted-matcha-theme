!function(){"use strict";customElements.get("social-videos")||customElements.define("social-videos",class e extends HTMLElement{static allSections=[];constructor(){super()}connectedCallback(){e.allSections.push(this),this.videoItems=this.querySelectorAll("[data-social-video-item]"),this.videoItems?.forEach(((e,t)=>{this.initVideoItem(e,t)}))}initVideoItem(e,t){const i=e.querySelector("video"),s=e.querySelector("[data-video-play]");i&&s&&(e._video=i,e._playButton=s,e._index=t,e.addEventListener("touchstart",(()=>{this.toggleVideo(e)})),e.addEventListener("mouseenter",(()=>{this.playVideo(e)})),e.addEventListener("mouseleave",(()=>{this.pauseVideo(e)})),s.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation(),this.toggleVideo(e)})),s.addEventListener("touchstart",(t=>{t.preventDefault(),t.stopPropagation(),this.toggleVideo(e)})))}toggleVideo(e){e._video.paused?this.playVideo(e):this.pauseVideo(e)}playVideo(e){if(e._video&&e._video.paused){this.pauseAllOtherVideos(e);const t=e._video.play();void 0!==t&&t.then((()=>{e.classList.add("is-playing"),e._playButton.setAttribute("aria-label",theme.strings.pauseVideo)})).catch((e=>{console.log("Video autoplay prevented:",e)}))}}pauseVideo(e){e._video&&!e._video.paused&&(e.classList.remove("is-playing"),e._video.pause(),e._playButton.setAttribute("aria-label",theme.strings.playVideo))}pauseAllOtherVideos(t){e.allSections.forEach((e=>{e.videoItems?.forEach((e=>{e!==t&&e._video&&!e._video.paused&&this.pauseVideo(e)}))}))}disconnectedCallback(){const t=e.allSections.indexOf(this);t>-1&&e.allSections.splice(t,1)}})}();
